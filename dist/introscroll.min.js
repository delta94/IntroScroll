(function(a,b){if("function"==typeof define&&define.amd)define(["exports"],b);else if("undefined"!=typeof exports)b(exports);else{var c={exports:{}};b(c.exports),a.introscroll=c.exports}})(this,function(a){"use strict";function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function c(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function d(a,b,d){return b&&c(a.prototype,b),d&&c(a,d),a}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var e=/*#__PURE__*/function(){function a(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};b(this,a),this.settings=Object.assign({},{element:"#intro",wrapper:"#wrapper",container:"#container",trigger:"#intro__link",scrollClass:"is-scrolled",duration:1500,afterScroll:null},c),this.win=window,this.doc=document,this.element=this.getElement(this.settings.element),this.wrapper=this.getElement(this.settings.wrapper),this.container=this.getElement(this.settings.container),this.trigger=this.getElement(this.settings.trigger),this.scrollClass=this.settings.scrollClass,this.duration=this.settings.duration,this.afterScroll=this.settings.afterScroll,this.isScrolling=!1,this.init()}return d(a,[{key:"init",value:function a(){this.bind()}},{key:"getElement",value:function b(a){return this.doc.querySelector(a)}},{key:"swipe",value:function l(a){var b=0,c=0,d=0,e=0,f=new Event("onswipeup"),g=new Event("onswiperight"),h=new Event("onswipedown"),i=new Event("onswipeleft"),j=new Event("tap");a.addEventListener("touchstart",function(a){b=a.changedTouches[0].screenX,c=a.changedTouches[0].screenY},!1),a.addEventListener("touchend",function(a){d=a.changedTouches[0].screenX,e=a.changedTouches[0].screenY,k()},!1);var k=function(){d<b&&a.dispatchEvent(i),d>b&&a.dispatchEvent(g),e<c&&a.dispatchEvent(f),e>c&&a.dispatchEvent(h),e===c&&a.dispatchEvent(j)}}},{key:"bind",value:function g(){var a=this,b=this.win,c=this.trigger,d=this.element,e=this.wrapper,f=this.container;this.swipe(d),this.swipe(e),d.addEventListener("mousewheel",function(b){0<b.deltaY&&a.enableScroll()},!1),d.addEventListener("onswipeup",function(){a.enableScroll()},!1),e.addEventListener("onswipedown",function(){0>=a.win.pageYOffset&&a.disableScroll()},!1),f.addEventListener("mousewheel",function(b){0>b.deltaY&&0>=a.win.pageYOffset&&a.disableScroll()},!1),b.addEventListener("mousewheel",function(c){0>=b.pageYOffset&&e.classList.contains(a.scrollClass)&&0>c.deltaY&&a.disableScroll()},!1),c.addEventListener("click",function(c){c.preventDefault(),(!e.classList.contains(a.scrollClass)||1<b.pageYOffset)&&a.enableScroll()},!1)}},{key:"enableScroll",value:function b(){var a=this;this.wrapper.classList.add(this.scrollClass),this.isScrolling=!0,setTimeout(function(){a.doc.body.style.overflow="visible",a.isScrolling=!1,"function"==typeof a.afterScroll&&a.afterScroll(a)},this.duration)}},{key:"disableScroll",value:function a(){this.isScrolling||(this.wrapper.classList.remove(this.scrollClass),this.doc.body.style.overflow="hidden")}}]),a}();a.default=e});
